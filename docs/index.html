<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-juancarlosrey</title><meta name="description" content="Documentation for ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-juancarlosrey"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-juancarlosrey</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-juancarlosrey</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#práctica-10---aplicación-de-registro-de-funko-pops" id="práctica-10---aplicación-de-registro-de-funko-pops" style="color: inherit; text-decoration: none;">
  <h1>Práctica 10 - Aplicación de registro de Funko Pops</h1>
</a>

<a href="#realizado-por-juan-carlos-rey-medina-alu0101410869" id="realizado-por-juan-carlos-rey-medina-alu0101410869" style="color: inherit; text-decoration: none;">
  <h4>Realizado por: Juan Carlos Rey Medina (alu0101410869)</h4>
</a>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/actions/workflows/tests.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/actions/workflows/tests.yml/badge.svg" alt="P10 - Tests"></a> <a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/actions/workflows/coveralls.yml/badge.svg?branch=main" alt="P10 - Coveralls"></a> <a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey?branch=main"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/badge.svg?branch=main" alt="Coverage Status"></a> <a href="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/actions/workflows/sonar.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2223/ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey/actions/workflows/sonar.yml/badge.svg?branch=main" alt="P10 - SonarCloud"></a> <a href="https://sonarcloud.io/summary/new_code?id=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey"><img src="https://sonarcloud.io/api/project_badges/measure?project=ULL-ESIT-INF-DSI-2223_ull-esit-inf-dsi-22-23-prct10-fs-proc-sockets-funko-app-JuanCarlosRey&metric=alert_status" alt="Quality Gate Status"></a></p>

<a href="#introducción" id="introducción" style="color: inherit; text-decoration: none;">
  <h2>Introducción</h2>
</a>
<p>En esta décima práctica de la asignatura se nos ha pedido realizar una serie de ejercicios en los que se trabaja el uso de las APIs asíncronas de gestión del sistema de ficheros (módulo <code>fs</code>), de creación de procesos (módulo <code>child_process</code>) y de creación de sockets (módulo <code>net</code>) de <strong>Node.js</strong>.</p>

<a href="#pasos-previos" id="pasos-previos" style="color: inherit; text-decoration: none;">
  <h2>Pasos previos</h2>
</a>
<p>Antes de realizar los ejercicios solicitado, primero se ha realizado una serie de pasos previos a modo de preparación para la práctica:</p>
<ul>
<li>Realizar la <a href="https://ull-esit-inf-dsi-2223.github.io/typescript-theory/typescript-project-setup.html">configuración incial del proyecto TypeScript</a>.</li>
<li>Instalar <a href="https://typedoc.org">Typedoc</a> para la generación de documentación.</li>
<li>Instalar <a href="https://mochajs.org">Mocha</a> y <a href="https://www.chaijs.com">Chai</a> para la realización de tests unitarios.</li>
<li>Instalar <a href="https://istanbul.js.org">Istanbul</a> y <a href="https://coveralls.io">Coveralls</a> para el cubrimiento del código.</li>
<li>Activar las <a href="https://docs.github.com/en/actions"><strong>GitHub Actions</strong></a> tanto para las <a href="https://drive.google.com/file/d/1hwtPovQlGvthaE7e7yYshC4v8rOtLSw0/view?usp=sharing">pruebas</a> como para el <a href="https://drive.google.com/file/d/1yOonmpVbOyvzx3ZbXMQTAPxvA3a7AE7w/view?usp=sharing">cubrimiento</a> y la calidad de códgio (<a href="https://sonarcloud.io/projects">Sonar Cloud</a>).</li>
<li>Instalar los paquetes <a href="https://www.npmjs.com/package/chalk">Chalk</a> para imprimir en color, <a href="https://www.npmjs.com/package/yargs">Yargs</a> para ejecutar la app mediante comandos y parámetros, y la <a href="https://nodejs.org/docs/latest-v19.x/api/fs.html">API sincrona de Node.js</a> para la persistencia de los datos de la app.</li>
<li>Leer los <a href="https://ull-esit-inf-dsi-2223.github.io/nodejs-theory/">apuntes de la asignatura</a> relacionados con la creación de ficheros y sockets.</li>
</ul>

<a href="#ejercicios" id="ejercicios" style="color: inherit; text-decoration: none;">
  <h2>Ejercicios</h2>
</a>

<a href="#ejercicio-1" id="ejercicio-1" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 1</h3>
</a>
<p>En este ejercicios se nos pide realizar una traza sobre el comportamiento del siguiente código fuente TypeScript:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">access</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">, </span><span class="hl-2">watch</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">.</span><span class="hl-2">length</span><span class="hl-1"> !== </span><span class="hl-4">3</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Please, specify a file&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">filename</span><span class="hl-1"> = </span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">[</span><span class="hl-4">2</span><span class="hl-1">];</span><br/><br/><span class="hl-1">  </span><span class="hl-5">access</span><span class="hl-1">(</span><span class="hl-2">filename</span><span class="hl-1">, </span><span class="hl-2">constants</span><span class="hl-1">.</span><span class="hl-7">F_OK</span><span class="hl-1">, (</span><span class="hl-2">err</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">err</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> does not exist`</span><span class="hl-1">);</span><br/><span class="hl-1">    } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`Starting to watch file </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><br/><span class="hl-1">      </span><span class="hl-6">const</span><span class="hl-1"> </span><span class="hl-7">watcher</span><span class="hl-1"> = </span><span class="hl-5">watch</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">[</span><span class="hl-4">2</span><span class="hl-1">]);</span><br/><br/><span class="hl-1">      </span><span class="hl-2">watcher</span><span class="hl-1">.</span><span class="hl-5">on</span><span class="hl-1">(</span><span class="hl-3">&#39;change&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> has been modified somehow`</span><span class="hl-1">);</span><br/><span class="hl-1">      });</span><br/><br/><span class="hl-1">      </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> is no longer watched`</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code></pre>
<p>Para realizar la traza se ha tenido en cuenta el uso tanto de la pila de llamadas, el registro de eventos de la API y la cola de manejadores. Para tener más información se ha consultado el siguiente <a href="https://dev.to/lydiahallie/javascript-visualized-event-loop-3dif">recurso</a> proporcionado por el profesorado.</p>
<p>La traza es la siguiente:</p>
<p><img src="./src/ejercicio-1/traza.png" alt="traza_ejercicio_1"></p>
<p>Por cada iteración se ha indicado el contenido de lo anteriormente mencionado más la salida en consola. Se han realizado un total de 2 modificaciones en el archivo <code>hello_world.txt</code>. Cabe destacar que primero se ejecuta la linea:</p>
<pre><code class="language-ts"><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`Starting to watch file </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-1">);</span>
</code></pre>
<p>y seguidamente:</p>
<pre><code class="language-ts"><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-3">`File </span><span class="hl-6">${</span><span class="hl-2">filename</span><span class="hl-6">}</span><span class="hl-3"> is no longer watched`</span><span class="hl-1">);</span>
</code></pre>
<p>ya que al trabajar con funciones asíncronas, el programa no se bloquea y sigue ejecutando las siguientes lineas de código.</p>
<ul>
<li><p>¿Qué hace la función <code>access</code>?
Lo que realiza esta función es comprobar los permisos de un archivo o directorio deretminado.</p>
</li>
<li><p>¿Para qué sirve el objeto <code>constants</code>?
Es esencialmente un enumerable, y sirve para describir un indicador o flag particular, en este caso, denota el permiso con el que será testeado la función access.</p>
</li>
</ul>

<a href="#ejercicio-2" id="ejercicio-2" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 2</h3>
</a>
<p>En este segundo ejercicio se nos pide realizar una aplicación que proporcione información sobre el número de líneas, palabras o caracteres que contiene un fichero de texto.</p>
<p>Como características esenciales, el programa deberá hacer lo siguiente:</p>
<ul>
<li>La ruta donde se encuentra el fichero debe ser un parámetro pasado a la aplicación desde la línea de comandos.</li>
<li>El usuario podrá indicarle al programa desde la línea de comandos si desea visualizar el número de líneas, palabras, caracteres o combinaciones de ellas. Para ello se ha hecho uso del paquete <code>yargs</code> utilizado en la <a href="https://ull-esit-inf-dsi-2223.github.io/prct09-filesystem-funko-app/">Práctica 9</a>.</li>
</ul>
<p>Además, se nos pide realizarlo de dos formas diferentes: usando el método <code>pipe</code> de un <code>Stream</code> y sin hacer uso de este.</p>
<p>Para ambas versiones se ha hecho uso de yargs, además, primero se comprueba si el parámetro del fichero es válido o no (tiene al menos 4 caracteres). Además, también se hace uso del método <code>readFile</code> para comprobar si el fichero existe o no. En caso negativo devuelve un mensaje de error informando al usuario.</p>

<a href="#versión-con-pipe" id="versión-con-pipe" style="color: inherit; text-decoration: none;">
  <h4>Versión con pipe</h4>
</a>
<p>Para esta versión se utiliza el comando <code>wc</code> para contar las lineas, palabras y caracteres dentro de un fichero. Además, se hace uso del comando <code>cat</code> al que se le pasa como argumento el nombre del fichero, y haciendo uso del método <code>pipe</code> para redirigir la salida del comando <code>cat</code> a la entrada del comando <code>wc</code>. Por último, al recibir la salidad del último comando, se muestra la información correspondiente formateada, y se tiene en cuenta los parámetros pasados por la linea de comandos (si se quiere mostrar la información sobre las lineas, palabras, caracteres o combinación de ellas).</p>

<a href="#versión-sin-pipe" id="versión-sin-pipe" style="color: inherit; text-decoration: none;">
  <h4>Versión sin pipe</h4>
</a>
<p>Para esta versión se hace uso únicamente del comando <code>wc</code>, al que se le pasa como argumento el nombre del fichero. Al recibir la salida de dicho comando, se almacena toda la información en la variable <code>wcOutput</code> y al terminar el comando se muestra la información correspondiente. El procedimiento para mostrar la información es similar a la versión anterior.</p>

<a href="#ejercicio-3" id="ejercicio-3" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio 3</h3>
</a>
<p>En este tercer ejercicio se nos pide realizar un servidor y un cliente en base a la implementación de la aplicación de registro de Funko Pops que se llevó a cabo en la práctica anterior. Para ello se usaron <strong>sockets</strong> proporcionados por el módulo <code>net</code> de <strong>Node.js</strong>.</p>
<p>Las operaciones, el almacenamiento en la base de datos y el tratamiento de las acciones a través del paquete <code>yargs</code> debe ser exáctamente igual que en la práctica anterior.</p>
<p>En este ejercicio se diferencian dos programas:</p>

<a href="#cliente" id="cliente" style="color: inherit; text-decoration: none;">
  <h4>Cliente</h4>
</a>
<p>En el cliente un usuario podrá interactuar con la aplicación a través de la linea de comandos. Para ello se ha usado yargs con la configuración ya definida en la <a href="https://ull-esit-inf-dsi-2223.github.io/prct09-filesystem-funko-app/">Práctica 9</a>. </p>
<p>El cliente se encarga de enviar peticiones de acciones al servidor. Los mensajes que se envían tienen un formato <strong>JSON</strong>, haciendo uso de <code>JSON.stringify</code> y <code>JSON.parse</code> para serializar y deserializar los objetos JSON. Para cada tipo de perición se envian una serie de argumentos correspondientes al usuario y a los atributos de los funkos que sean necesarios. Envia la información al servidor a través del método <code>write()</code> de <code>net</code>.</p>
<p>Una vez que se procese la petición en el servidor, se envia una respuesta dependiendo de la petición. A excepción de las acciones <code>read</code> y <code>list</code>, se pueden enviar dos tipos de mensajes: <code>success</code> indicando que la acción se ha realizado correctamente y <code>error</code> indicando que hubo algun error durante el procedimiento.</p>
<p>En el caso de las peticiones <code>read</code> y <code>list</code> lo que se recibe es la colección de funkos del usuario correspondiente, se crean objetos tipo <code>Funko</code> simulando la colección de funkos del usuario y un nuevo objeto tipo <code>OperableUser</code> para poder realizar las operaciones de lectura de funkos. Esto se ha realizado así ya que no se puede ejecutar directamente las funciones <code>listFunko()</code> (para mostrar todos los funkos de un usuario) y <code>showFunkoInfo()</code> (para mostrar un funko en concreto de un usuario) en el servidor, ya que como es obvio, la salida saldría en la consola del servidor, y nosotros queremos se muestre en el cliente. Por ello es necesario que esas dos funciones se ejecuten en el programa cliente.</p>

<a href="#servidor" id="servidor" style="color: inherit; text-decoration: none;">
  <h4>Servidor</h4>
</a>
<p>En el servidor se procesan todas las peticiones recibidas por el cliente y se mantiene actualizada la base de datos de la aplicación.</p>
<p>Para manterer actualizada la base de datos se usan las funciones <code>databaseLoad()</code> (carga la base de datos antes de realizar alguna acción) y <code>databaseSave()</code> (guarda la base de datos en caso de que se hayan realizado cambios). Ambas funciones estan alojadas en un fichero diferente al del servidor (concretamente en <code>database_functions.ts</code>).</p>
<p>En el servidor se utiliza el método <code>net.createServer()</code> para inicializar el servidor, utilizando además el método <code>listen()</code> que escucha las conexiones realizadas a través del puerto 60300.</p>
<p>Al recibir una petición de un cliente, el servidor procesa los datos y los convierte al formato correcto. En el bloque <code>switch</code> se manejan todas las posibles opciones de tipos de acciones, incluyendo si la acción no es válida. Para todas las acciones menos para <code>read</code> y <code>list</code> el procedimiento es similar:</p>
<ul>
<li><code>add</code>: se crea un nuevo funko con los atributos que se han enviado desde el cliente. Se comprueba si el usuario esta dentro de la lista de usuarios y se ejecuta la función <code>addFunko()</code> de la clase <strong>OperableUser</strong>. Dependiendo del resultado se envía un mensaje tipo <code>success</code> o <code>error</code>.</li>
<li><code>update</code>: el procedimiento es el mismo que en <code>add</code> pero ejecutando la función <code>modifyFunko()</code> de <strong>OperableUser</strong>.</li>
<li><code>remove</code>: se comprueba que el usuario existe dentro de la base de datos. Seguidamente se ejecuta la función <code>removeFunko()</code> de <strong>OperableUser</strong>. Dependiendo del resultado se envía un mensaje tipo <code>success</code> o de tipo <code>error</code>.</li>
</ul>
<p>Para las otras dos acciones se ha realizado lo siguiente:</p>
<ul>
<li><code>read</code>: se comprueba que el usuario existe. En caso positivo se envía al cliente un mensaje tipo <code>read</code> y como argumento se envía la lista de funkos de la colección del usuario. En caso negativo se envia un mensaje de error al cliente.</li>
<li><code>list</code>: similar a <code>read</code> pero también se comprueba si el funko existe dentro de la colección del usuario. Aparte de la lista de funkos del usuario, se envía el id del funko que se quiere buscar.</li>
</ul>
<p>Por último, se hace uso del método <code>end()</code> para cerrar la conexión con el cliente una vez los datos hayan sido enviados.</p>

<a href="#ejercicio-de-laboratorio---pe103" id="ejercicio-de-laboratorio---pe103" style="color: inherit; text-decoration: none;">
  <h3>Ejercicio de laboratorio - PE103</h3>
</a>
<p>En el ejercicio de laboratorio se nos ha pedido desarrollar un cliente y un servidor en Node.js, haciendo uso de sockets. El cliente debe recibir, desde la línea de comandos, un comando Unix/Linux, además de sus argumentos correspondientes. El servidor debe recibir la petición del cliente, ejecutar el comando solicitado, y devolver la respuesta del comando al cliente. Además, hay que tener en cuenta el manejo de los posibles errores que puedan surgir, ya sea que el comando no exista o los argumentos no sean válidos.</p>

<a href="#programa-cliente" id="programa-cliente" style="color: inherit; text-decoration: none;">
  <h4>Programa cliente</h4>
</a>
<p>El programa cliente se conecta al servidor a través del puerto 60300. Procesa el comando junto a todos los argumentos, los convierte en un objeto JSON y los envía al servidor a través del método <code>write()</code>. </p>
<p>Una vez que reciba el resultado del comando, lo almacena en la variable <code>wholeData</code> y con el método <code>parse()</code> de JSON lo deserializa. Por último, dependiendo del tipo de mensaje, se realiza una serie de acciones: mostrar la salida del comando si se ha ejecutado correctamente o mostrar un mensaje de error en caso contrario. Por último, se cierra la conexion con el método <code>destroy()</code> de <code>net</code>.</p>

<a href="#programa-servidor" id="programa-servidor" style="color: inherit; text-decoration: none;">
  <h4>Programa servidor</h4>
</a>
<p>En el servidor se utiliza el método <code>net.createServer()</code> para inicializar el servidor, utilizando además el método <code>listen()</code> que escucha las conexiones realizadas a través del puerto 60300.</p>
<p>Al recibir una petición de un cliente, se formatea en un objeto JSON para poder trabajar con el. Primero se detecta si el comando está vació, enviando un mensaje de tipo <code>not_valid</code> en caso de que esto pase. Seguidamente se ejecuta el comando con el uso del método <code>exec()</code> de <code>childProcess</code>. En caso de que se active el flag de <code>error</code>, se envia un mensaje tipo <code>error</code> al cliente. En caso contrario se envia al cliente un mensaje de tipo <code>run</code> acompañado de la salida del correspondiente comando.</p>
<p>Cabe recalcar que en la sesión práctica no se ha podido realizar los tests correspondientes debido a la falta de tiempo en dicha sesión.</p>

<a href="#conclusión" id="conclusión" style="color: inherit; text-decoration: none;">
  <h2>Conclusión</h2>
</a>
<p>En conclusión, esta práctica nos ha resultado de utilidad para profundizar más sobre el funcionamiento de Node.js, incluyendo algunos de sus módulos más importantes como fs, child_process y net. Además ha servido para profundizar en el uso de sockets y programas basados en un esquema cliente-servidor, y del uso de funciones asíncronas y como afectan a la ejecución de un programa, incluyendo como afectan al contenido de la pila de llamadas, el registro de eventos de la API y la cola de manejadores.</p>

<a href="#referencias" id="referencias" style="color: inherit; text-decoration: none;">
  <h2>Referencias</h2>
</a>
<ol>
<li><a href="https://www.npmjs.com/package/yargs">yargs - npm</a></li>
<li><a href="https://www.npmjs.com/package/chalk">chalk - npm</a></li>
<li><a href="https://nodejs.org/docs/latest-v19.x/api/fs.html">File system | Node.js v19.8.1 Documentation</a></li>
<li><a href="https://nodejs.org/docs/latest-v19.x/api/events.html">Events | Node.js v19.9.0 Documentation</a></li>
<li><a href="https://nodejs.org/docs/latest-v19.x/api/child_process.html">Child process | Node.js v19.9.0 Documentation</a></li>
<li><a href="https://nodejs.org/docs/latest-v19.x/api/net.html">Net | Node.js v19.9.0 Documentation</a></li>
<li><a href="https://dev.to/lydiahallie/javascript-visualized-event-loop-3dif">✨♻️ JavaScript Visualized: Event Loop - DEV Community</a></li>
</ol>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">ull-<wbr/>esit-<wbr/>inf-<wbr/>dsi-<wbr/>22-<wbr/>23-<wbr/>prct10-<wbr/>fs-<wbr/>proc-<wbr/>sockets-<wbr/>funko-<wbr/>app-<wbr/>juancarlosrey</a>
<ul>
<li class="tsd-kind-module"><a href="modules/ejercicio_1_ejercicio1.html">ejercicio-<wbr/>1/ejercicio1</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_2_file_info.html">ejercicio-<wbr/>2/file_<wbr/>info</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_2_file_info_pipe.html">ejercicio-<wbr/>2/file_<wbr/>info_<wbr/>pipe</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_3_client.html">ejercicio-<wbr/>3/client</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_3_database_functions.html">ejercicio-<wbr/>3/database_<wbr/>functions</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_3_funko.html">ejercicio-<wbr/>3/funko</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_3_operaciones_usuario.html">ejercicio-<wbr/>3/operaciones_<wbr/>usuario</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_3_server.html">ejercicio-<wbr/>3/server</a></li>
<li class="tsd-kind-module"><a href="modules/ejercicio_3_usuario.html">ejercicio-<wbr/>3/usuario</a></li>
<li class="tsd-kind-module"><a href="modules/laboratorio_cliente.html">laboratorio/cliente</a></li>
<li class="tsd-kind-module"><a href="modules/laboratorio_servidor.html">laboratorio/servidor</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>